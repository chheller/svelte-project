var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function o(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function f(){return t=" ",document.createTextNode(t);var t}function u(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let d;function p(t){d=t}const h=[],m=[],$=[],v=[],y=Promise.resolve();let A=!1;function b(t){$.push(t)}function P(){const t=new Set;do{for(;h.length;){const t=h.shift();p(t),x(t.$$)}for(;m.length;)m.pop()();for(let e=0;e<$.length;e+=1){const n=$[e];t.has(n)||(n(),t.add(n))}$.length=0}while(h.length);for(;v.length;)v.pop()();A=!1}function x(t){t.fragment&&(t.update(t.dirty),i(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(b))}const S=new Set;let _;function E(t,e){t&&t.i&&(S.delete(t),t.i(e))}function L(t,e,n,i){if(t&&t.o){if(S.has(t))return;S.add(t),_.c.push(()=>{S.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function k(t,n,a){const{fragment:l,on_mount:s,on_destroy:o,after_update:c}=t.$$;l.m(n,a),b(()=>{const n=s.map(e).filter(r);o?o.push(...n):i(n),t.$$.on_mount=[]}),c.forEach(b)}function w(t,e){t.$$.fragment&&(i(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function H(t,e){t.$$.dirty||(h.push(t),A||(A=!0,y.then(P)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function M(e,r,a,l,s,o){const c=d;p(e);const f=r.props||{},u=e.$$={fragment:null,ctx:null,props:o,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:null};let g=!1;var h;u.ctx=a?a(e,f,(t,n)=>{u.ctx&&s(u.ctx[t],u.ctx[t]=n)&&(u.bound[t]&&u.bound[t](n),g&&H(e,t))}):f,u.update(),g=!0,i(u.before_update),u.fragment=l(u.ctx),r.target&&(r.hydrate?u.fragment.l((h=r.target,Array.from(h.childNodes))):u.fragment.c(),r.intro&&E(e.$$.fragment),k(e,r.target,r.anchor),P()),p(c)}class N{$destroy(){w(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const T={PAUSED:"paused",PLAYING:"playing"};function G(e){var n,r,a,f,d;return{c(){n=c("div"),g(r=c("img"),"class","gif svelte-1krxcv5"),g(r,"src",a=e.state===T.PAUSED?e.gif.srcStill:e.gif.srcMotion),g(r,"alt",f=e.gif.title),g(n,"class","container svelte-1krxcv5"),d=[u(r,"mouseenter",e.handleMouseEnter),u(r,"mouseleave",e.handleMouseLeave)]},m(t,e){s(t,n,e),l(n,r)},p(t,e){(t.state||t.gif)&&a!==(a=e.state===T.PAUSED?e.gif.srcStill:e.gif.srcMotion)&&g(r,"src",a),t.gif&&f!==(f=e.gif.title)&&g(r,"alt",f)},i:t,o:t,d(t){t&&o(n),i(d)}}}function D(t,e,n){let{gif:i,disableHoverState:r,state:a=T.STILL}=e;return t.$set=(t=>{"gif"in t&&n("gif",i=t.gif),"disableHoverState"in t&&n("disableHoverState",r=t.disableHoverState),"state"in t&&n("state",a=t.state)}),{gif:i,disableHoverState:r,state:a,handleMouseEnter:()=>{r||a!==T.PAUSED||n("state",a=T.PLAYING)},handleMouseLeave:()=>{r||a!==T.PLAYING||n("state",a=T.PAUSED)}}}class I extends N{constructor(t){super(),M(this,t,D,G,a,["gif","disableHoverState","state"])}}function U(t,e,n){const i=Object.create(t);return i.gif=e[n],i.index=n,i}function Y(t){var e,n=new I({props:{gif:t.gif,state:t.isPlayingAll&&T.PLAYING||t.gif.state,disableHoverState:t.isPlayingAll,"data-image-id":t.index}});return{c(){n.$$.fragment.c()},m(t,i){k(n,t,i),e=!0},p(t,e){var i={};t.gifs&&(i.gif=e.gif),(t.isPlayingAll||t.gifState||t.gifs)&&(i.state=e.isPlayingAll&&T.PLAYING||e.gif.state),t.isPlayingAll&&(i.disableHoverState=e.isPlayingAll),n.$set(i)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){w(n,t)}}}function j(t){for(var e,n,r,a,d,p,h,m,$,v,y,A,b,P,x,S=t.gifs,k=[],w=0;w<S.length;w+=1)k[w]=Y(U(t,S,w));const H=t=>L(k[t],1,1,()=>{k[t]=null});return{c(){e=c("div"),n=c("div"),r=c("div"),a=c("input"),d=f(),p=c("input"),h=f(),m=c("div"),($=c("button")).textContent="Play All",v=f(),(y=c("button")).textContent="Pause All",A=f(),b=c("div");for(var i=0;i<k.length;i+=1)k[i].c();g(a,"placeholder","Search for a gif"),g(p,"type","submit"),g(m,"class","controls svelte-cecmg1"),g(n,"class","form-wrapper svelte-cecmg1"),g(b,"class","gifs-container svelte-cecmg1"),x=[u(a,"input",t.input0_input_handler),u(p,"click",t.searchGif),u($,"click",t.playAll),u(y,"click",t.pauseAll)]},m(i,o){s(i,e,o),l(e,n),l(n,r),l(r,a),a.value=t.searchTerm,l(r,d),l(r,p),l(n,h),l(n,m),l(m,$),l(m,v),l(m,y),l(e,A),l(e,b);for(var c=0;c<k.length;c+=1)k[c].m(b,null);P=!0},p(t,e){if(t.searchTerm&&a.value!==e.searchTerm&&(a.value=e.searchTerm),t.gifs||t.isPlayingAll||t.gifState){S=e.gifs;for(var n=0;n<S.length;n+=1){const i=U(e,S,n);k[n]?(k[n].p(t,i),E(k[n],1)):(k[n]=Y(i),k[n].c(),E(k[n],1),k[n].m(b,null))}for(_={r:0,c:[],p:_},n=S.length;n<k.length;n+=1)H(n);_.r||i(_.c),_=_.p}},i(t){if(!P){for(var e=0;e<S.length;e+=1)E(k[e]);P=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)L(k[t]);P=!1},d(t){t&&o(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(k,t),i(x)}}}function C(t,e,n){const i=`https://api.giphy.com/v1/gifs/search?api_key=${location.search.replace("?api_key=","")||""}`;let r="",a=!1,l=[];const s=t=>t.map(t=>({title:t.title,state:T.PAUSED,srcMotion:t.images.fixed_height.url,srcStill:t.images.fixed_height_still.url}));return{searchTerm:r,isPlayingAll:a,gifs:l,searchGif:async()=>{const t=await fetch(`${i}${(t=>`&limit=${t}`)(15)}&q=${r}`),e=await t.json();n("gifs",l=s(e.data))},playAll:()=>{a||n("isPlayingAll",a=!0)},pauseAll:()=>{a&&n("isPlayingAll",a=!1)},input0_input_handler:function(){r=this.value,n("searchTerm",r)}}}class O extends N{constructor(t){super(),M(this,t,C,j,a,[])}}function q(e){var n,i=new O({});return{c(){i.$$.fragment.c()},m(t,e){k(i,t,e),n=!0},p:t,i(t){n||(E(i.$$.fragment,t),n=!0)},o(t){L(i.$$.fragment,t),n=!1},d(t){w(i,t)}}}return new class extends N{constructor(t){super(),M(this,t,null,q,a,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
