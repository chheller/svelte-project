var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function f(){return t=" ",document.createTextNode(t);var t}function u(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}let g;function p(t){g=t}const h=[],m=[],$=[],v=[],y=Promise.resolve();let _=!1;function x(t){$.push(t)}function A(){const t=new Set;do{for(;h.length;){const t=h.shift();p(t),b(t.$$)}for(;m.length;)m.pop()();for(let e=0;e<$.length;e+=1){const n=$[e];t.has(n)||(n(),t.add(n))}$.length=0}while(h.length);for(;v.length;)v.pop()();_=!1}function b(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(x))}const E=new Set;let P;function S(t,e){t&&t.i&&(E.delete(t),t.i(e))}function w(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),P.c.push(()=>{E.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function L(t,n,o){const{fragment:s,on_mount:a,on_destroy:c,after_update:l}=t.$$;s.m(n,o),x(()=>{const n=a.map(e).filter(i);c?c.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(x)}function k(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function M(t,e){t.$$.dirty||(h.push(t),_||(_=!0,y.then(A)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function T(e,i,o,s,a,c){const l=g;p(e);const f=i.props||{},u=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:null};let d=!1;var h;u.ctx=o?o(e,f,(t,n)=>{u.ctx&&a(u.ctx[t],u.ctx[t]=n)&&(u.bound[t]&&u.bound[t](n),d&&M(e,t))}):f,u.update(),d=!0,r(u.before_update),u.fragment=s(u.ctx),i.target&&(i.hydrate?u.fragment.l((h=i.target,Array.from(h.childNodes))):u.fragment.c(),i.intro&&S(e.$$.fragment),L(e,i.target,i.anchor),A()),p(l)}class D{$destroy(){k(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const N={PAUSED:"paused",PLAYING:"playing"};function U(e){var n,i,o,f,g;return{c(){n=l("div"),d(i=l("img"),"class","gif svelte-sm968z"),d(i,"src",o=e.state===N.PAUSED?e.gif.srcStill:e.gif.srcMotion),d(i,"alt",f=e.gif.title),d(n,"class","container svelte-sm968z"),g=[u(i,"mouseenter",e.handleMouseEnter),u(i,"mouseleave",e.handleMouseLeave)]},m(t,e){a(t,n,e),s(n,i)},p(t,e){(t.state||t.gif)&&o!==(o=e.state===N.PAUSED?e.gif.srcStill:e.gif.srcMotion)&&d(i,"src",o),t.gif&&f!==(f=e.gif.title)&&d(i,"alt",f)},i:t,o:t,d(t){t&&c(n),r(g)}}}function G(t,e,n){let{gif:r,state:i=N.STILL}=e;return t.$set=(t=>{"gif"in t&&n("gif",r=t.gif),"state"in t&&n("state",i=t.state)}),{gif:r,state:i,handleMouseEnter:()=>{i===N.PAUSED&&n("state",i=N.PLAYING)},handleMouseLeave:()=>{i===N.PLAYING&&n("state",i=N.PAUSED)}}}class q extends D{constructor(t){super(),T(this,t,G,U,o,["gif","state"])}}function I(t,e,n){const r=Object.create(t);return r.gif=e[n],r.index=n,r}function j(t){var e,n=new q({props:{gif:t.gif,state:t.gif.state,"data-image-id":t.index}});return{c(){n.$$.fragment.c()},m(t,r){L(n,t,r),e=!0},p(t,e){var r={};t.gifs&&(r.gif=e.gif),t.gifs&&(r.state=e.gif.state),n.$set(r)},i(t){e||(S(n.$$.fragment,t),e=!0)},o(t){w(n.$$.fragment,t),e=!1},d(t){k(n,t)}}}function C(t){for(var e,n,i,o,g,p,h,m,$,v,y,_,x,A,b,E=t.gifs,L=[],k=0;k<E.length;k+=1)L[k]=j(I(t,E,k));const M=t=>w(L[t],1,1,()=>{L[t]=null});return{c(){e=l("div"),n=l("div"),i=l("div"),o=l("input"),g=f(),p=l("input"),h=f(),m=l("div"),($=l("button")).textContent="Play All",v=f(),(y=l("button")).textContent="Pause All",_=f(),x=l("div");for(var r=0;r<L.length;r+=1)L[r].c();d(o,"placeholder","Search for a gif"),d(p,"type","submit"),d(m,"class","controls svelte-1tt2qhs"),d(n,"class","form-wrapper svelte-1tt2qhs"),d(x,"class","gifs-container svelte-1tt2qhs"),b=[u(o,"input",t.input0_input_handler),u(p,"click",t.searchGif),u($,"click",t.playAll),u(y,"click",t.pauseAll)]},m(r,c){a(r,e,c),s(e,n),s(n,i),s(i,o),o.value=t.searchTerm,s(i,g),s(i,p),s(n,h),s(n,m),s(m,$),s(m,v),s(m,y),s(e,_),s(e,x);for(var l=0;l<L.length;l+=1)L[l].m(x,null);A=!0},p(t,e){if(t.searchTerm&&o.value!==e.searchTerm&&(o.value=e.searchTerm),t.gifs){E=e.gifs;for(var n=0;n<E.length;n+=1){const r=I(e,E,n);L[n]?(L[n].p(t,r),S(L[n],1)):(L[n]=j(r),L[n].c(),S(L[n],1),L[n].m(x,null))}for(P={r:0,c:[],p:P},n=E.length;n<L.length;n+=1)M(n);P.r||r(P.c),P=P.p}},i(t){if(!A){for(var e=0;e<E.length;e+=1)S(L[e]);A=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)w(L[t]);A=!1},d(t){t&&c(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(L,t),r(b)}}}function Y(t,e,n){const r=`https://api.giphy.com/v1/gifs/search?api_key=${location.search.replace("?api_key=","")||""}`;let i="",o=[];const s=t=>t.map(t=>({title:t.title,state:N.PAUSED,srcMotion:t.images.fixed_height.url,srcStill:t.images.fixed_height_still.url}));return{searchTerm:i,gifs:o,searchGif:async()=>{const t=await fetch(`${r}${(t=>`&limit=${t}`)(15)}&q=${i}`),e=await t.json();n("gifs",o=s(e.data))},playAll:()=>{n("gifs",o=o.map(t=>({...t,state:N.PLAYING})))},pauseAll:()=>{n("gifs",o=o.map(t=>({...t,state:N.PAUSED})))},input0_input_handler:function(){i=this.value,n("searchTerm",i)}}}class O extends D{constructor(t){super(),T(this,t,Y,C,o,[])}}function z(e){var n,r=new O({});return{c(){r.$$.fragment.c()},m(t,e){L(r,t,e),n=!0},p:t,i(t){n||(S(r.$$.fragment,t),n=!0)},o(t){w(r.$$.fragment,t),n=!1},d(t){k(r,t)}}}return new class extends D{constructor(t){super(),T(this,t,null,z,o,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
